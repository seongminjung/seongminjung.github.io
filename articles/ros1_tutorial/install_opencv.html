<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>How to install OpenCV on a fresh Ubuntu 20.04</title>
    <meta name="description" content="Seongmin Jung's personal website" />
    <meta name="keywords" content="Seongmin Jung, Robotics" />
    <meta name="author" content="Seongmin Jung" />
    <meta name="language" content="English" />
    <link rel="shortcut icon" href="/favicon.png" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LL44K1WZ0G"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-LL44K1WZ0G");
    </script>

    <!-- Load an icon library to show a hamburger menu (bars) on small screens -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <!-- import css -->
    <link rel="stylesheet" href="/css/index.css" />
    <!-- import js -->
    <script type="module" src="/js/main.js" defer></script>
  </head>

  <body>
    <header>
      <img class="cover" src="/asset/cover.jpg" alt="Seongmin Jung" />
      <h1 class="title"><a href="/index.html">Seongmin Jung</a></h1>
      <nav class="nav">
        <a href="/index.html">Home</a>
        <a href="/projects.html">Projects</a>
        <a href="/articles.html" class="bold">Articles</a>
        <a href="/blog.html">Blog</a>
        <i id="nav-toggle" class="nav-toggle fa fa-bars" onclick="toggleNav()"></i>
      </nav>
    </header>

    <div id="nav-modal-bg" onclick="toggleNav()"></div>
    <nav id="nav-modal">
      <a href="/index.html">Home</a>
      <a href="/projects.html">Projects</a>
      <a href="/articles.html" class="bold">Articles</a>
      <a href="/blog.html">Blog</a>
    </nav>

    <main>
      <div class="container">
        <section id="post">
          <a class="category-tag" href="/articles/ros1_tutorial.html"><i class="fa fa-book"></i> ROS1 Tutorial</a>
          <h1>How to Install OpenCV on a Fresh Ubuntu 20.04</h1>
          <p class="date">Posted on <time datetime="2024-10-01">October 1, 2024</time></p>
          <div class="post-body">
            <img class="half" src="/articles/ros1_tutorial/install_opencv/img1.png" alt="OpenCV logo" />
            <p>
              <a href="https://karl27.tistory.com/112" , target="_blank">https://karl27.tistory.com/112</a>
            </p>
            <p>
              <a
                href="https://velog.io/@parcdaxb1n/C-OpenCV-4.5.5-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-Ubuntu-20.04"
                ,
                target="_blank"
                >https://velog.io/@parcdaxb1n/C-OpenCV-4.5.5-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-Ubuntu-20.04</a
              >
            </p>
            <p>ìœ„ ë‘ ë¸”ë¡œê·¸ë¥¼ ì°¸ê³ í•˜ì—¬ OpenCVë¥¼ ì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.</p>

            <h2>CuDNN</h2>
            <p>ë¨¼ì € CuDNNì„ ì„¤ì¹˜í•œë‹¤.</p>
            <p>
              <a href="https://developer.nvidia.com/rdp/cudnn-archive" , target="_blank"
                >https://developer.nvidia.com/rdp/cudnn-archive</a
              >
            </p>
            <pre><code class="language-bash">tar -xvf cudnn-linux-x86_64-8.9.7.29_cuda12-archive.tar.xz
cd cudnn-linux-x86_64-8.9.7.29_cuda12-archive
sudo cp include/cudnn*.h /usr/local/cuda-12.2/include
sudo cp -P lib/libcudnn* /usr/local/cuda-12.2/lib64
sudo chmod a+r /usr/local/cuda-12.2/include/cudnn*.h /usr/local/cuda-12.2/lib64/libcudnn*</code></pre>
            <p>ì°¸ê³ ë¡œ, nvcc -Vì˜ ê²°ê³¼ê°€ ì œëŒ€ë¡œ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤ë©´, í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>
            <pre><code class="language-bash">export PATH=$PATH:/usr/local/cuda/bin
export CUDADIR=/usr/local/cuda
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/lib64</code></pre>

            <h2>OpenCV Dependencies</h2>
            <p>OpenCVë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜í•œë‹¤.</p>
            <pre><code class="language-bash">sudo apt-get update
sudo apt-get upgrade
sudo apt-get install -y build-essential cmake pkg-config
sudo apt-get install -y libjpeg-dev libtiff5-dev libpng-dev
sudo apt-get install -y libavcodec-dev libavformat-dev libswscale-dev libxvidcore-dev libx264-dev libxine2-dev
sudo apt-get install -y libv4l-dev v4l-utils
sudo apt-get install -y libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev
sudo apt-get install -y libgtk2.0-dev
sudo apt-get install -y mesa-utils libgl1-mesa-dri libgtkgl2.0-dev libgtkglext1-dev
sudo apt-get install -y libatlas-base-dev gfortran libeigen3-dev
sudo apt-get install -y python3-dev python-numpy python3-numpy</code></pre>

            <h2>OpenCV</h2>
            <p>OpenCVë¥¼ ì„¤ì¹˜í•œë‹¤. ì´ë•Œ ë²„ì „ì€ 4.9.0ì„ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>
            <pre><code class="language-bash">mkdir opencv && cd opencv
wget -O opencv.zip https://github.com/opencv/opencv/archive/4.9.0.zip
wget -O opencv_contrib.zip https://github.com/opencv/opencv_contrib/archive/4.9.0.zip
unzip opencv.zip 
unzip opencv_contrib.zip</code></pre>
            <p>ì´í›„ opencv-4.9.0 í´ë”ë¡œ ì´ë™í•˜ì—¬ build í´ë”ë¥¼ ìƒì„±í•˜ê³ , ì•„ë˜ì™€ ê°™ì´ cmakeë¥¼ ì‹¤í–‰í•œë‹¤.</p>
            <pre><code class="language-bash">cd opencv-4.9.0
mkdir build
cd build
cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D INSTALL_PYTHON_EXAMPLES=ON -D INSTALL_C_EXAMPLES=ON -D BUILD_DOCS=OFF -D BUILD_PERF_TESTS=OFF -D BUILD_TESTS=OFF -D BUILD_PACKAGE=OFF -D BUILD_EXAMPLES=OFF -D WITH_TBB=ON -D ENABLE_FAST_MATH=1 -D CUDA_FAST_MATH=1 -D CUDA_TOOLKIT_ROOT_DIR=/usr/local/cuda-12.2 -D WITH_CUDA=ON -D WITH_CUBLAS=ON -D WITH_CUFFT=ON -D WITH_NVCUVID=ON -D WITH_IPP=OFF -D WITH_V4L=OFF -D WITH_LIBV4L=ON -D WITH_1394=OFF -D WITH_GTK=ON -D WITH_QT=OFF -D WITH_OPENGL=OFF -D WITH_EIGEN=ON -D WITH_FFMPEG=ON -D WITH_GSTREAMER=ON -D BUILD_JAVA=OFF -D BUILD_opencv_python3=ON -D BUILD_opencv_python2=OFF -D BUILD_NEW_PYTHON_SUPPORT=ON -D OPENCV_SKIP_PYTHON_LOADER=ON -D OPENCV_GENERATE_PKGCONFIG=ON -D OPENCV_ENABLE_NONFREE=ON -D OPENCV_EXTRA_MODULES_PATH=~/Library/opencv/opencv_contrib-4.9.0/modules -D WITH_CUDNN=ON -D OPENCV_DNN_CUDA=ON -D CUDA_ARCH_BIN=8.9 -D CUDA_ARCH_PTX=8.9 -D CUDNN_LIBRARY=/usr/local/cuda-12.2/lib64/libcudnn.so.8.9.7 -D CUDNN_INCLUDE_DIR=/usr/local/cuda-12.2/include -D PYTHON3_PACKAGES_PATH=/usr/local/lib/python3.8/dist-packages ..</code></pre>
            <p>ì´ë•Œ ì£¼ì˜ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. (ìœ„ ë¸”ë¡œê·¸ ì¸ìš©)</p>
            <p>CUDA_TOOLKIT_ROOT_DIR : ë³¸ì¸ì˜ CUDA ë²„ì „ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•  ê²ƒ</p>
            <p>OPENCV_EXTRA_MODULES_PATH : ìœ„ì—ì„œ ìƒì„±í•œ opencv í´ë” ë‚´ contrib í´ë” ê²½ë¡œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•  ê²ƒ</p>
            <p>
              CUDA_ARCH_BIN CUDA_ARCH_PTX : ë³¸ì¸ì˜ GPU ëª¨ë¸ ì‚¬ì–‘ì— ë§ì¶œ ê²ƒ ( https://developer.nvidia.com/cuda-gpus ë¥¼
              í†µí•´ ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ë‹¤ ğŸ” )
            </p>
            <p>CUDNN* : ë³¸ì¸ì´ ì„¤ì¹˜í•œ cuDNN ë²„ì „ì„ í™•ì¸í•œ í›„ ë§ì¶°ì„œ ë³€ê²½í•´ì¤„ ê²ƒ</p>
            <p>ì´í›„ make -j ëª…ë ¹ì–´ë¥¼ í†µí•´ OpenCVë¥¼ ë¹Œë“œí•˜ê³ , sudo make install ëª…ë ¹ì–´ë¥¼ í†µí•´ ì„¤ì¹˜í•œë‹¤.</p>
            <pre><code class="language-bash">make -j
sudo make install</code></pre>
            <p>OpenCVê°€ ì œëŒ€ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸í•´ ë³´ì.</p>
            <pre><code class="language-bash">pkg-config --modversion opencv4</code></pre>
          </div>
          <div class="post-footer">
            <div class="post-footer-profile">
              <img src="/asset/cover.jpg" alt="Seongmin Jung" />
              <h1>Seongmin Jung</h1>
            </div>
            <h2>Other posts in <a href="/articles/ros1_tutorial.html">ROS1 Tutorial</a> category</h2>
            <ul>
              <li>
                <a href="/articles/ros1_tutorial/install_opencv.html">
                  <span><b>How to Install OpenCV on a Fresh Ubuntu 20.04</b></span>
                  <time datetime="2024-10-01">October 1, 2024</time>
                </a>
              </li>
              <li>
                <a href="/articles/ros1_tutorial/ros_7.html">
                  <span>7. Adding Dimensions and Positions</span>
                  <time datetime="2023-01-26">January 26, 2023</time>
                </a>
              </li>
              <li>
                <a href="/articles/ros1_tutorial/ros_6.html">
                  <span>6. URDF file - Creating Your Own Robot</span>
                  <time datetime="2023-01-25">January 25, 2023</time>
                </a>
              </li>
              <li>
                <a href="/articles/ros1_tutorial/ros_5.html">
                  <span>5. Setting up bashrc file</span>
                  <time datetime="2023-01-24">January 24, 2023</time>
                </a>
              </li>
              <li>
                <a href="/articles/ros1_tutorial/ros_4.html">
                  <span>4. Publisher and Subscriber</span>
                  <time datetime="2023-01-24">January 24, 2023</time>
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </main>

    <footer>
      <p>&copy; 2025 Seongmin Jung<br />Designed and developed by Seongmin Jung</p>
    </footer>
  </body>
</html>
